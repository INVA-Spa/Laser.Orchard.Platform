$(function(){var n=$("#address-form"),i=$(".ship-errors"),t=$("#toggle-billing-address");t.change(function(){$(".billing-address").toggle($(this).val());$(this).val()=="on"&&($('input[name^="shippingAddressVM."]').each(function(){var n=$(this),t=n.attr("name").substr(18);$('input[name="billingAddressVM.'+t+'"]').val(n.val()).trigger("change")}),$('select[name^="shippingAddressVM."]').each(function(){var t=$(this),u=t.attr("name").substr(18),i=$('select[name="billingAddressVM.'+u+'"]'),n=t.val(),r;i.find('option[value="'+n+'"]').length>0||(r=new Option(t.find("option[value="+n+"]").text(),n,!0,!0),i.append(r));i.val(n).trigger("change")}));$(".billing-address").trigger("visibilityChanged")});t.prop("checked")&&$(".billing-address").hide();$('input[name^="shippingAddressVM."]').change(function(){if(t.prop("checked")){var n=$(this),i=n.attr("name").substr(18);$('input[name="billingAddressVM.'+i+'"]').val(n.val()).trigger("change")}});$('select[name^="shippingAddressVM."]').change(function(){var u;if(t.prop("checked")){var i=$(this),f=i.attr("name").substr(18),r=$('select[name="billingAddressVM.'+f+'"]'),n=i.val();r.find('option[value="'+n+'"]').length>0||(u=new Option(i.find("option[value="+n+"]").text(),n,!0,!0),r.append(u));r.val(n).trigger("change")}});"preventRequiredMark"in window&&!!preventRequiredMark||n.find(".required").after($("<span class='error-indicator' title='"+required+"'>*<\/span>"));n.submit(function(t){var u=!0,r,f=[];return n.find(".required").each(function(){var t=$(this),o,e;(t.is("input")||t.is("select"))&&!t.val()?(u=!1,o=t.attr("id"),e=n.find("label[for='"+o+"']").html(),t.addClass("required-error"),f.indexOf(e)==-1&&(i.show().append($("<div><\/div>").html(requiredFormat.replace("{0}",e))),f.push(e)),r||(r=this,r.focus())):t.removeClass("required-error")}),u?void 0:(t.preventDefault(),!1)})});